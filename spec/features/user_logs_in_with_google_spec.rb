require 'rails_helper'

RSpec.feature "user logs in" do
  scenario "using google ouath2" do
  #  fake_omniauth
  #  visit root_path
  #  expect(page).to have_link("Zaloguj się przez Google")
  #  click_link "Zaloguj się przez Google"
    #expect(page).to have_content("Justin Bieber")
    #expect(page).to have_link("Wyloguj się")
  end

#  def fake_omniauth
#    OmniAuth.config.test_mode = true  #set OmniAuth to run in test mode
#    OmniAuth.config.mock_auth[:google] = OmniAuth::AuthHash.new({
#      provider: "google",
#      uid: "12345678910",
#      name: "Justin",
#      credentials: {
#        token: "token"
#      }
#    }) #provide a set of fake oauth data
#  end
end
